# gomguk-viewer-fe

곰국 뷰어 웹 프론트엔드 레포입니다.

**PDF Viewer, 번역기, 메모장으로 구성된 웹앱을 제공합니다** 

## 개요
곰국 뷰어의 웹 프론트엔드 영역

## 개발 내용

### 기술 & 라이브러리 선택
#### 프레임워크 - Vue3
컴포지션 API를 통해 기존 option api보다 가독성 좋은 코드를 작성할 수 있을 것이라 생각했고 대용량의 PDF를 로딩하는 경우 성능상 하자가 있을 수 있을 것이라 생각했기에 성능상 향상된 부분이 있는 vue3를 선택했습니다. 또한 코드 리뷰 과정에 백엔드 팀원도 포함할 계획이었기에 프론트를 전혀 모르는 팀원들과 소통하기에도 SFC 형식의 뷰 컴포넌트가 좋을 것이라 생각했습니다.

React 등의 다른 프레임워크를 사용하지 않은 것은 Vue로 충분히 구현할 수 있는 내용이었고 프로젝트의 시간 여유가 많지 않았기 때문에(약 3달) 가장 숙련도가 높은 프레임워크를 선택해야겠다고 생각했습니다. 

사소한 부분이지만 나중에 코드를 구현하면서 컴포넌트를 객체처럼 다른 컴포넌트 내에서 사용할 수 없음을 알고 조금 아쉬웠습니다. 

#### Typescript
프론트엔드를 혼자서 개발하기에 사소한 타입에러 등을 허용하면서 코드 품질이 낮아질 수 있을 것 같다 생각했습니다. 또한, 자바스크립트를 모르는 팀원들과 코드 리뷰를 하기 위해서 타입이 제공되는 편이 코드를 설명하거나 가독성에서 좋을 것이라 생각했기에 타입스크립트를 선택했습니다.

#### PDF.js
https://mozilla.github.io/pdf.js/  
PDF 뷰어 구현을 위해 사용할 수 있는 방법들을 조사한 결과 PDF.js 외의 선택지는 없어 보였고, PDF.js가 꽤 준수한 뷰어였기 때문에 PDF.js를 사용하게 되었습니다.

다만 추후 개발하면서 디테일한 부분에서 커스텀이 불가능해 아쉬움과 한계를 느꼈고, PDF의 기능을 강화하기 위해선 결국 PDF.js를 대체할 별도의 라이브러리 개발이 필요함을 느꼈습니다. 하지만 이는 규모도 크고 시간관계상 불가능할 것으로 보여 PDF.js 위에 다른 화면을 겹쳐 사용하는 방식으로 해결했습니다.

#### editor.js
https://editorjs.io/  
notion과 같은 메모 작성 경험을 주기 위해 블록형 메모장 라이브러리를 찾던 중 발견하게 되어 사용한 라이브러리입니다. 라이브러리의 완성도가 조금 떨어져 아쉬운 라이브러리입니다. 기본적인 기능은 제공하지만 노션과 비교해 디테일한 부분들이 떨어져 아쉬었습니다. 하지만 API를 연결해 확장이 가능하다는 점이 매력적인 라이브러리입니다. 개인적으로 좀 더 발전하면 기대될 것 같습니다.

https://github.com/dev2820/simple-editorjs-latex   
논문 뷰어라는 점에서 latex는 유저에게 필수적인 기능이라 생각했고, latex블럭을 찾아본 결과 마음에 드는 latex 블럭이 없어 직접 구현했습니다.

### 트러블 슈팅

#### pdfjs 블링킹 현상 해결

#### PDF 로딩 최적화 - lazy loading 적용

#### Hit Test 비용 최적화 - `content-visibility:auto`

## 개발자
@dev2820

## 관련 레포
### editorjs-test
곰국 뷰어에서 사용한 editor.js의 테스트 레포입니다.
https://github.com/ssu-memorier/editorjs-test

### PDF 구현가능성 테스트
https://jsfiddle.net/dev2820/b7eLsv9q/50/

## 사용 스택
- Vue3 (with Composition API)
- Typescript
- Pinia
- PDF.js
- editor.js
- SCSS


